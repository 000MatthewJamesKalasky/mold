set(MOLD_MACHO_TESTS
    add-ast-path
    add-empty-section
    adhoc-codesign
    all-load
    application-extension
    archive
    baserel
    basic
    bss
    bundle
    comdat
    common-alignment
    common
    cstring
    data-reloc
    dead-strip-dylibs2
    dead-strip-dylibs
    dead-strip
    dependency-info
    dlinfo
    duplicate-error
    dylib
    entry
    exception
    export-dynamic
    exported-symbols-list
    filepath2
    filepath
    force-load
    framework
    headerpad-max-install-names
    headerpad
    hello2
    hello3
    hello4
    hello5
    hello
    hidden-l
    install-name
    lc-build-version
    lc-linker-option
    lib1
    libunwind
    lto
    macos-version-min
    map
    merge-scope
    missing-error
    needed-framework
    needed-l
    objc
    object-path-lto
    order-file
    pagezero-size2
    pagezero-size3
    pagezero-size
    platform-version
    private-extern
    reexport-l
    reproducibility
    response-file
    rpath
    search-dylibs-first
    search-paths-first
    sectcreate
    stack-size
    subsections-via-symbols
    syslibroot
    tbd-add
    tbd-hide
    tbd-install-name
    tbd-previous
    tbd-reexport
    tbd
    tls2
    tls
    undef
    unexported-symbols-list
    universal
    unkown-tbd-target
    U
    uuid2
    uuid
    weak-def-dylib
    weak-def-ref
    weak-def
    weak-l
    weak-undef
    Z)

foreach(MOLD_MACHO_TEST IN LISTS MOLD_MACHO_TESTS)
    add_test(NAME ${MOLD_MACHO_TEST}
        COMMAND ${CMAKE_CURRENT_LIST_DIR}/${MOLD_MACHO_TEST}.sh
        WORKING_DIRECTORY ${mold_BINARY_DIR})
endforeach()
